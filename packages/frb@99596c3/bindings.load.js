montageDefine("99596c3","bindings",{dependencies:["collections/map","./bind","./compute","./observe","./stringify"],factory:function(e,i){function t(e,i,t){if(i)for(var a in i)s(e,a,i[a],t);return e}function s(e,t,s,u){u=u||Object.empty;var n=a(e);if(d.call(n,t))throw Error("Can't bind to already bound target, "+JSON.stringify(t));return"<-"in s||"<->"in s||"compute"in s?(s.target=e,s.parameters=s.parameters||u.parameters,s.document=s.document||u.document,s.components=s.components||u.components,s.cancel="compute"in s?c(e,t,s):o(e,t,s),n[t]=s,i.count++):("get"in s||"set"in s||"writable"in s||(s.writable=!0),"configurable"in s||(s.configurable=!0),"enumerable"in s||(s.enumerable=!0),Object.defineProperty(e,t,s)),e}function a(e){return m.has(e)||m.set(e,{}),m.get(e)}function u(e,i){var t=a(e);return t[i]}function n(e){var i=a(e);for(var t in i)l(e,t)}function l(e,t){var s=a(e);if(!s[t])throw Error("Can't cancel non-existent binding to "+JSON.stringify(t));var u=s[t];if(u&&u.cancel){u.cancel(),delete s[t],i.count--;for(var t in s)return;m["delete"](e)}}var r=e("collections/map"),o=e("./bind"),c=e("./compute");e("./observe"),e("./stringify");var m=new r,d=Object.prototype.hasOwnProperty;i.count=0,i.bindings=m,i.defineBindings=t,i.defineBinding=s,i.getBindings=a,i.getBinding=u,i.cancelBindings=n,i.cancelBinding=l}});