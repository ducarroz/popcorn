montageDefine("99596c3","binders",{dependencies:["./scope","./observers"],factory:function(e,i){function t(){return Error("").stack.replace(/^.*\n.*\n/,"\n")}function s(e,i,s,a,u,n){return s(C(function(s){if(!u.isActive)try{u.isActive=!0,n&&console.log("SET",n.targetPath,"TO",s,"ON",e,"BECAUSE",n.sourcePath,t()),Array.isArray(e)&&i>>>0===i?e.set(i,s):e[i]=s}finally{u.isActive=!1}}),a)}function a(e,i){return function(t,s,a,u,n){return i(C(function(i){return null!=i?e(C(function(e){return null!=e?e.bindProperty?e.bindProperty(i,t,s,u,n):V(e,i,t,s,u,n):void 0}),a):void 0}),a)}}function u(e,i,s,a,u,n){return s(C(function(s){if(!u.isActive)try{u.isActive=!0,n&&console.log("SET FOR KEY",i,"TO",s,"ON",e,"BECAUSE",n.sourcePath,t()),e.set(i,s)}finally{u.isActive=!1}}),a)}function n(e,i){return function(t,s,a,u,n){return e(C(function(e){return e?i(C(function(i){return null!=i?j(e,i,t,s,u,n):void 0}),a):void 0}),a)}}function l(e,i){return function(s,a,u,n,l){return e(C(function(e){return e?i(C(function(i){return null!=i?s(C(function(s){if(s)(e.has||e.contains).call(e,i)||(l&&console.log("ADD",i,"TO",l.targetPath,"BECAUSE",l.sourcePath,t()),e.add(i));else for(;(e.has||e.contains).call(e,i);)l&&console.log("REMOVE",i,"FROM",l.targetPath,"BECAUSE",l.sourcePath,t()),(e.remove||e["delete"]).call(e,i)}),a):void 0}),u):void 0}),u)}}function r(e,i){return function(s,a,u,n,l){return s(C(function(s){return s?(l&&console.log("BIND",l.targetPath,"TO",l.sourcePath,t()),e(i,a,a,n,l),function(){l&&console.log("UNBIND",l.targetPath,"FROM",l.sourcePath,t())}):void 0}),u)}}function o(e,i,t){return function(s,a,u,n,l){return s(C(function(s){return s?e(C(function(e){function s(e,s,r){a.swap(r,s.length,e.map(function(e){var s=u.nest(e);return i(t,s,s,n,l)}))}if(e){var a=[],r=M(e,s,u);return function(){_(a),r()}}}),u):void 0}),a)}}function c(e,i,t,s,a,u){var n=A(s),l=w(t,n);return function(t,s,n,r,o){return t(C(function(t){if(null!=t){if(t){var s=e(a,x,n,r,o),c=i(u,x,n,r,o);return function(){s(),c()}}return e(l,n,n,r,o)}}),s)}}function m(e,i,t,s,a,u){var n=A(s),l=E(t,n);return function(t,s,n,r,o){return t(C(function(t){if(null!=t){if(t)return e(l,n,n,r,o);var s=e(a,L,n,r,o),c=i(u,L,n,r,o);return function(){s(),c()}}}),s)}}function d(e,i,t){return function(s,a,u,n,l){return e(C(function(e){return null!=e?e?i(s,a,u,n,l):t(s,a,u,n,l):void 0}),a)}}function p(e){return function(i,t,s){return e(C(function(e){return e?i(C(function(i){null!=i&&(e.splice?e.splice(0,e.length,i):e.clear&&e.add&&(e.clear(),e.add(i)))}),t):void 0}),s)}}function v(e){return function(i,t,s){return e(C(function(e){return e?i(C(function(i){null!=i&&i!==e.one()&&(e.splice?e.splice(0,e.length,i):e.clear&&e.add&&(e.clear(),e.add(i)))}),t):void 0}),s)}}function g(e,i){return function(s,a,u,n,l){return e(C(function(e){return e?s(C(function(i){function s(i,s,a){P(e)||(l&&console.log("SWAPPING",s,"FOR",i,"AT",a,"ON",l.targetPath,t()),e.swap?e.swap(a,s.length,i):e.add&&(e.remove||e["delete"])&&(i.forEach(e.add,e),s.forEach(e.remove||e["delete"],e)))}if(i!==e){if(!i)return e.clear(),void 0;if(i.addRangeChangeListener)return i.addRangeChangeListener(s),s(Array.from(i),Array.from(e),0),D(function(){i.removeRangeChangeListener(s)})}}),a):i(N.makeLiteralObserver([]),a,u,n,l)}),u)}}function h(e){return function(i,s,a,u,n){return e(C(function(e){return e?i(C(function(i){function s(i,s){if(!u.isActive)try{u.isActive=!0,void 0===i?(n&&n&&console.log("DELETED",n.targetPath,"FOR KEY",s,"ON",e,"BECAUSE",n.sourcePath,t()),Array.isArray(e)?e.splice(s,1):e["delete"](s)):(n&&n&&console.log("SET",n.targetPath,"FOR KEY",s,"TO",i,"ON",e,"BECAUSE",n.sourcePath,t()),e.set(s,i))}finally{u.isActive=!1}}return i?(e.clear(),i.forEach(s),i.addMapChangeListener(s)):(e.clear(),void 0)}),s):void 0}),a)}}function b(e){return function(i,t,s){return e(C(function(e){return e?i(C(function(i){function t(i,t,s){if(!P(e)){var a=e.length-s-t.length;e.swap(a,t.length,i.reversed())}}return i?(i.addRangeChangeListener(t),t(i,e,0),D(function(){i.removeRangeChangeListener(t)})):(e.clear(),void 0)}),t):void 0}),s)}}function f(e){return function(i,t,s,a,u){return i(C(function(i){return i?Function.noop:e(I,t,s,a,u)}),s)}}function q(e){return function(i,t,s,a,u){return s.parent?e(i,t,s.parent,a,u):void 0}}function S(e,i){return function(t,s,a,u,n){return e(C(function(e){return null!=e?i(t,s,a.nest(e),u,n):void 0}),a)}}function P(e){return e.getRangeChangeDescriptor&&e.getRangeChangeDescriptor().isActive}var y=e("./scope"),N=e("./observers"),C=N.autoCancelPrevious,D=N.once,M=N.observeRangeChange,_=N.cancelEach,A=N.makeNotObserver,E=N.makeOrObserver,w=N.makeAndObserver;N.observeValue;var I=N.makeLiteralObserver(),x=new y(!0),L=new y(!1);i.bindProperty=s;var V=s;i.makePropertyBinder=a,i.bindGet=u;var j=u;i.makeGetBinder=n,i.makeHasBinder=l,i.makeEqualityBinder=r,i.makeEveryBlockBinder=o,i.makeAndBinder=c,i.makeOrBinder=m,i.makeConditionalBinder=d,i.makeOnlyBinder=p,i.makeOneBinder=v,i.makeRangeContentBinder=g,i.makeMapContentBinder=h,i.makeReversedBinder=b,i.makeDefinedBinder=f,i.makeParentBinder=q,i.makeWithBinder=S}});