function solve(e,i){return solve.semantics.solve(e,i)}module.exports=solve,solve.semantics={solve:function(e,i){for(;;){for(;this.simplifiers.hasOwnProperty(e.type);){var t=this.simplifiers[e.type](e);if(!t)break;e=t}var s=this.rotateTargetToSource.hasOwnProperty(e.type),a=this.rotateSourceToTarget.hasOwnProperty(i.type);if(!s&&!a)break;s?(i=this.rotateTargetToSource[e.type](e,i),e=e.args[0]):a&&(e=this.rotateSourceToTarget[i.type](e,i),i=i.args[0])}return[e,i]},simplifiers:{not:function(e){var i=e.args[0];return"not"===i.type?i.args[0]:void 0},add:function(e){var i=e.args[0];return"literal"===i.type&&""===i.value?{type:"toString",args:[e.args[1]]}:void 0},someBlock:function(e){return{type:"not",args:[{type:"everyBlock",args:[e.args[0],{type:"not",args:[e.args[1]]}]}]}}},rotateTargetToSource:{reflect:function(e,i){return{type:e.type,args:[i]}},invert:function(e,i,t){return{type:t,args:[i,e.args[1]]}},toNumber:function(e,i){return this.reflect(e,i)},toString:function(e,i){return this.reflect(e,i)},not:function(e,i){return this.reflect(e,i)},neg:function(e,i){return this.reflect(e,i)},add:function(e,i){return this.invert(e,i,"sub")},sub:function(e,i){return this.invert(e,i,"add")},mul:function(e,i){return this.invert(e,i,"div")},div:function(e,i){return this.invert(e,i,"mul")},pow:function(e,i){return this.invert(e,i,"root")},root:function(e,i){return this.invert(e,i,"pow")},join:function(e,i){return this.invert(e,i,"split")},split:function(e,i){return this.invert(e,i,"join")}},rotateSourceToTarget:{rangeContent:function(e,i){return"rangeContent"===e.type?e:{type:i.type,args:[e]}}}};