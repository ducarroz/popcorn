montageDefine("99596c3","merge",{dependencies:["collections/shim"],factory:function(e,i){"use strict";function t(e,i){for(var t,s=(i.length+1)*(e.length+1),a=Array(s),u=Array(i.length+1),n=Array(i.length+1),l=0;e.length+1>l;l++){for(var r=0;i.length+1>r;r++){var o,c;if(0===l&&0===r)o=" ",c=0;else if(0===l)o="insert",c=r;else if(0===r)o="delete",c=l;else if(e[l-1]===i[r-1])o="retain",c=n[r-1];else{var m=u[r-1],d=n[r];m>d?(o="delete",c=d+1):(o="insert",c=m+1)}a[l+r*(e.length+1)]=o,u[r]=c}t=u,u=n,n=t}return{edges:a,cost:n[i.length],source:i,target:e}}function s(e){for(var i,t,s=[],a=e.edges,u=i=e.target.length,n=e.source.length;i||n;){var l=a[i+n*(u+1)];if("delete"===l){if(t&&"delete"===t[0])t[1]++;else{var r=["delete",1];t=r,s.push(r)}i--}else if("insert"===l){if(t&&"insert"===t[0])t[1]++;else{var r=["insert",1];t=r,s.push(r)}n--}else if("retain"===l){var r=["retain",1];t&&"retain"===t[0]?t[1]++:(t=r,s.push(r)),i--,n--}}return s.reverse(),s}function a(e,i){return s(t(e,i))}function u(e,i){for(var t=a(e,i),s=[],u=0,n=0,l=0;t.length>l;){var r=t[l++];if("insert"===r[0])s.push([n,0,i.slice(n,n+r[1])]),n+=r[1];else if("delete"===r[0])if(t.length>l&&"insert"===t[l][0]){var o=t[l++];s.push([n,r[1],i.slice(n,n+o[1])]),u+=r[1],n+=o[1]}else s.push([n,r[1]]),u+=r[1];else"retain"==r[0]&&(u+=r[1],n+=r[1])}return s}function n(e,i){for(var t=0;i.length>t;t++)e.swap.apply(e,i[t])}function l(e,i){n(e,u(e,i))}e("collections/shim"),i.graphOt=t,i.traceOt=s,i.ot=a,i.diff=u,i.apply=n,i.merge=l}});